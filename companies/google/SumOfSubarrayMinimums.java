package google;

public class SumOfSubarrayMinimums {

	public static void main(String[] args) {
		int[] a = getTestData();//{3, 1, 2, 4};
		int result = sumSubarrayMins(a);
		System.out.println(result);
	}

	private static int sumSubarrayMins(int[] a) {
		if(a == null || a.length == 0) return 0;
		
		int result = 0;
		
		for(int i = 0; i < a.length; i++) {
			int min = Integer.MAX_VALUE;
			for(int j = i; j < a.length; j++) {
				min = Math.min(min, a[j]);
				result += min;
			}
		}
		
		return result;
	}
	
	
	private static int[] getTestData() {
		return new int[] {
				29959,29867,29822,29704,29676,29650,29577,29488,29286,29255,29232,29207,29071,
				29034,28925,28849,28731,28693,28624,28606,28591,28397,28357,28308,28295,28210,
				28119,28090,28004,27903,27845,27830,27777,27736,27640,27540,27506,27428,27341,
				27308,27182,27152,27122,27029,26928,26872,26796,26765,26663,26597,26580,26530,
				26498,26475,26436,26406,26382,26312,26213,26134,26088,26025,25943,25912,25875,
				25845,25810,25702,25638,25614,25531,25524,25488,25470,25444,25402,25283,25262,
				25121,24988,24958,24886,24769,24697,24635,24595,24490,24456,24453,24346,24313,
				24248,24200,24148,24107,24052,24044,24021,23970,23908,23897,23835,23752,23741,
				23714,23661,23596,23545,23509,23470,23439,23409,23350,23215,23166,23155,23100,
				23024,22923,22825,22793,22627,22613,22536,22450,22383,22312,22268,22205,22175,
				22136,22028,21971,21900,21824,21769,21726,21583,21546,21513,21494,21428,21327,
				21264,21254,21174,21140,21112,21000,20921,20902,20830,20817,20783,20735,20657,
				20616,20573,20485,20378,20363,20305,20259,20210,20114,20002,19846,19785,19747,
				19667,19645,19622,19610,19580,19542,19516,19454,19392,19310,19277,19194,19131
				};
	}

}
